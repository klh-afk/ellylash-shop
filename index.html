<!doctype html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>จองคิว</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "API_KEY",
  authDomain: "PROJECT_ID.firebaseapp.com",
  projectId: "PROJECT_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.submitBooking = async function () {
  await addDoc(
    collection(db, "shops", "demo-shop", "bookings"),
    {
      customerName: document.getElementById("name").value,
      phone: document.getElementById("phone").value,
      service: document.getElementById("service").value,
      date: document.getElementById("date").value,
      time: document.getElementById("time").value,
      status: "pending",
      createdAt: serverTimestamp()
    }
  );

  // ส่งไปหน้าปฏิทิน
  window.location.href = "https://klh-afk.github.io/boy-studio-pro-max-template-Public/calendar/";
};
</script>

<style>
body { font-family: sans-serif; padding: 20px; }
input, button { width: 100%; padding: 12px; margin-bottom: 10px; }
button { background: #4f46e5; color: white; border: none; border-radius: 8px; }
</style>
</head>

<body>
<h2>จองคิว</h2>

<input id="name" placeholder="ชื่อลูกค้า">
<input id="phone" placeholder="เบอร์โทร">
<input id="service" placeholder="บริการ">
<input id="date" type="date">
<input id="time" type="time">

<button onclick="submitBooking()">ยืนยันการจอง</button>
</body>
</html>
